<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Jira integration - goops</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Jira integration";
    var mkdocs_page_input_path = "features/jira.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> goops</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../getting-started/">Getting started</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Features</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../semver/">Auto semver</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Jira integration</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#description">Description</a></li>
    

    <li class="toctree-l3"><a href="#output-variables">Output variables</a></li>
    

    <li class="toctree-l3"><a href="#configuration-defaults">Configuration defaults</a></li>
    

    <li class="toctree-l3"><a href="#transitioning-issues">Transitioning issues</a></li>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../docker/">Docker stable & latest</a>
                </li>
                <li class="">
                    
    <a class="" href="../nightly-releases/">Nightly releases</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../examples/">Examples</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Commands</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../commands/goops_init.md">init</a>
                </li>
                <li class="">
                    
    <a class="" href="../../commands/goops_setenv.md">setenv</a>
                </li>
                <li class="">
                    
    <a class="" href="../../commands/goops_transition.md">transition</a>
                </li>
                <li class="">
                    
    <a class="" href="../../commands/goops_tag.md">tag</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Plumbing commands</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../commands/goops_version/">version</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">goops</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Features &raquo;</li>
        
      
    
    <li>Jira integration</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="description">Description</h2>
<p>When enabled setenv command will fetch jira issue keys from merge request title, description and commit messages linked to merge request.
Each issue found will be linked to jira version. If Jira version does not exists it will be created, along with deployment issue.
<code>GOOPS_SEMVER_RELEASE</code> variable must be set, by semver feature or manually. </p>
<h2 id="output-variables">Output variables</h2>
<pre><code class="console">GOOPS_JIRA_ISSUES=TEST-1 TEST-2 TEST-3
</code></pre>

<h2 id="configuration-defaults">Configuration defaults</h2>
<pre><code class="console">GOOPSC_JIRA=false
GOOPSC_JIRA_PROJECT_KEY=
GOOPSC_JIRA_SERVER_URL=
GOOPSC_JIRA_USER=
GOOPSC_JIRA_PASSWORD=
GOOPSC_JIRA_VERSION_ASSIGN=true
GOOPSC_JIRA_VERSION_CREATE=true
GOOPSC_JIRA_CREATE_DEPLOYMENT_ISSUE=true
GOOPSC_JIRA_ISSUE_TRANSITION=true
GOOPSC_JIRA_WORKFLOW=workflow.yaml
GOOPSC_JIRA_WORKFLOW_CONTENT=
</code></pre>

<p><code>GOOPSC_JIRA</code></p>
<p>Enable Jira integration</p>
<p><code>GOOPSC_JIRA_PROJECT_KEY</code></p>
<p>required: true</p>
<p>Jira project key</p>
<p><code>GOOPSC_JIRA_SERVER_URL</code></p>
<p>required: true</p>
<p>Jira server url e.g. https://jira.example.com</p>
<p><code>GOOPSC_JIRA_USER</code></p>
<p>required: true</p>
<p>Jira username</p>
<p><code>GOOPSC_JIRA_PASSWORD</code></p>
<p>required: true</p>
<p>Jira password</p>
<p><code>GOOPSC_JIRA_VERSION_ASSIGN</code> </p>
<p>Assign issues to Jira version. Semver feature must be enabled or GOOPS_SEMVER_RELEASE variable set.
Issue list is taken from GOOPS_JIRA_ISSUES variable.</p>
<p><code>GOOPSC_JIRA_VERSION_CREATE</code></p>
<p>Create Jira version. When assigning issue to version and version doesn't exists it will be created.</p>
<p><code>GOOPSC_JIRA_CREATE_DEPLOYMENT_ISSUE</code></p>
<p>When creating Jira version create deployment issue assigned to version.</p>
<p><code>GOOPSC_JIRA_ISSUE_TRANSITION</code></p>
<p>Transition Jira issues.</p>
<p><code>GOOPSC_JIRA_WORKFLOW</code></p>
<p>Path to workflow definition. Can be local file or remote http path.</p>
<h2 id="transitioning-issues">Transitioning issues</h2>
<pre><code class="console">$ goops jira transition 'target state'
</code></pre>

<p>jira transition command require workflow definition in yaml file. 
Default filename is <code>workflow.yaml</code> and can be overridden by --workflow flag or <code>GOOPSC_JIRA_WORKFLOW</code> variable.
Remote http url is also accepted.</p>
<p><strong>workflow structure</strong></p>
<pre><code class="yaml">workflow:
  source status:
    target status: transition name
    default: default transition name
</code></pre>

<p><strong>example workflow definition</strong></p>
<pre><code class="yaml">workflow:
  code review:
    default: ready to test
  in test:
    done: done
    default: bug found
  to do:
    rejected: reject
    default: start progress
  in progress:
    default: code review
  done:
    default: reopen
  rejected:
    default: reopen
</code></pre>

<p><strong>corresponding Jira workflow</strong></p>
<p><img alt="Alt text" src="../../img/workflow.png?raw=true" title="Example Jira workflow" /></p>
<p><strong>Workflow from env variable</strong></p>
<p>Alternatively workflow file content can be passed by <code>GOOPSC_JIRA_WORKFLOW_CONTENT</code> environment variable.</p>
<pre><code class="yaml">export JIRA_WORKFLOW_CONTENT=$(cat  &lt;&lt;- EOM
workflow:
  code review:
    default: ready to test
  in test:
    done: done
    default: bug found
  to do:
    rejected: reject
    default: start progress
  in progress:
    default: code review
  done:
    default: reopen
  rejected:
    default: reopen
EOM
)
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../docker/" class="btn btn-neutral float-right" title="Docker stable & latest">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../semver/" class="btn btn-neutral" title="Auto semver"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../semver/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../docker/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
